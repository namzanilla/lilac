# Lilac s0

Сервис по работе с изображениями для товаров.

### Создание нового файла

Пример создания из локального файла:

```shell
node src/create /path/to/file.jpg
```

Данная команда создаст в директории **lilac_s0/public** примерно сдедующую структуру директорий **e2/fm/Akl9** (ID) и скопирует туда файл **/path/to/file.jpg** с названием **o.jpg**, то есть полный путь к файлу будет **lilac_s0/public/e2/fm/Akl9/o.jpg** (название директорий **e2** и **fm** произвольным образом _тянутся_ из файла **dir_name.json**, **Akl9** - _рандомный_ набор из 4х символов). Также будут созданы файлы с размерами перечисленными в файле **sizes.json**.

Пример создания из URL:

```shell
node src/create https://example.com/photo.jpg
```

### Удаление файла по ID

```shell
node src/delete e2/fm/Akl9
```

Данная команда удалит директорию **lilac_s0/public/e2/fm/Akl9** вместе с ее содержимым.

### Дамп

```shell
node src/dump
```

Дамп структуры директорий (создает архив **lilac_s0/tmp/dump.zip**) и оригинальных файлов с названием **o.[ext]**.

### Удаление всего контента

```shell
node src/clean-public
```

Удаляет все данные в папке **lilac_s0/public**.

### Удаление всех временных файлов/папок

```shell
node src/clean-tmp
```

Удаляет все данные в папке **lilac_s0/tmp**.

### Импорт

```shell
node src/import
```

Импортирует дамп (архив) **lilac_s0/tmp/dump.zip** в **lilac_s0/public**.

**ВАЖНО!** При импорте происходит удаление всех данных изображений включая структуру директорий.
